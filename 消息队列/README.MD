MQ全称为Message Queue, 消息队列（MQ）是一种应用程序对应用程序的通信方法。应用程序通过读写出入队列的消息（针对应用程序的数据）来通信，而无需专用连接来链接它们。消息传递指的是程序之间通过在消息中发送数据进行通信，而不是通过直接调用彼此来通信，直接调用通常是用于诸如远程过程调用的技术。排队指的是应用程序通过 队列来通信。队列的使用除去了接收和发送应用程序同时执行的要求。    


消息队列中间件是指利用训效可靠的消息传递机制进行与平台无关的数据交流，并基于数据通信来进行分布式系统的集成。通过提供消息传递和消息排队模型，它可以在分布环境下提供应用解耦、弹性伸缩、冗余存储、流量削峰、异步通信、数据同步等功能、其作为分布式系统架构中的一个重要组件。

很多对实时性要求不高的但是执行起来比较较耗时的地方，比如发送短信，邮件提醒，更新文章阅读计数，记录用户操作日志等等，如果实时处理的话，在用户访问量比较大的情况下，对系统压力比较大。

　　消息传递相较文件传递与远程过程调用（RPC）而言，似乎更胜一筹，因为它具有更好的平台无关性，并能够很好地支持并发与异步调用。所以如果系统中出现了如下情况:

对操作的实时性要求不高，而需要执行的任务极为耗时；
存在异构系统间的整合；
一般的可以考虑引入消息队列。对于第一种情况，常常会选择消息队列来处理执行时间较长的任务。引入的消息队列就成了消息处理的缓冲区。消息队列引入的异步通信机制，使得发送方和接收方都不用等待对方返回成功消息，就可以继续执行下面的代码，从而提高了数据处理的能力。尤其是当访问量和数据流量较大的情况下，就可以结合消息队列与后台任务，通过避开高峰期对大数据进行处理，就可以有效降低数据库处理数据的负荷。 


#### 流量削峰
流量削峰是消息中间件的一个非常重要的功能，而这个功能得益于消息堆积能力，消息堆积分为内存堆积和磁盘堆积。RabbitMQ是典型的内存式堆积，kafka是一种典型的磁盘式堆积。
RabbitMQ在于routing，而Kafka在于streaming


消息中间件选型分析——从Kafka与RabbitMQ的对比来看全局
https://blog.csdn.net/u013256816/article/details/79838428


RabbitMQ和Kafka到底怎么选（二）？
https://www.cnblogs.com/haolujun/p/9641840.html